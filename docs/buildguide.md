# はじめに
キットをご購入いただいた方、お買い上げありがとうございます。<br>
初めてのキーボード設計、初めてのキット化なので、至らぬ点があると思います。<br>
不備やわからないことがあれば遠慮なくお問い合わせください。<br>
画像は後ほど掲載します。

## 注意事項
本キットはご購入者様がご自分で組み立てるキットです。<br>
できる限り簡単に組み立てられるように設計しておりますが、必ず組み立てる前にこのビルドガイドを熟読してください。
疑問点があれば、必ず組み立てる前に設計者まで問い合わせてください。取り返しのつかないミスをする前に確認することが大事です。<br>

# キット内容物一覧（2023年の大学祭で頒布したバージョン）

|    |    |
| ---- | ---- |
|  PCB  |  1枚  |
|  ボトムプレート  |  1枚  |
|  トッププレート（ロゴあり）  |  1枚  |
|  トッププレート（ロゴ無し）  |  1枚  |
|  Pro Micro  |  1個  |
|  コンスルー  |  2個  |
|  ダイオード  |  60個  |
|  ネジ  |  32個  |
|  4mmスペーサー  |  14個  |
|  7mmスペーサー  |  4個  |
|  リセットスイッチ  |  1個  |
|  スライドスイッチ  |  1個  |
|  ゴム足  |  6個  |

万が一部品が不足している場合、メールやTwitterのDMにメッセージいただけましたらすぐに発送対応いたします。

<!-- 内容物の紹介 -->
<!-- 基板
f:id:Salicylic_acid3:20210117004741p:plain

本ガイド内では『基板』と呼びます。

組み立ての半分は基板への部品のハンダ付けです。

右と左では別々の基板となっております。

スイッチプレート
f:id:Salicylic_acid3:20210117004906p:plain

本ガイド内では『スイッチプレート』と呼びます。

スイッチをはめて基板に重ねてはんだ付けします。

スイッチプレートは左右同じプレートのリバーシブル構造となっています。

ボトムプレート
f:id:Salicylic_acid3:20210117005017p:plain

本ガイド内では『ボトムプレート』と呼びます。

基板の裏側に重ねてネジ止めします。

スイッチプレートは左右同じプレートのリバーシブル構造となっています。

ProMicro
f:id:Salicylic_acid3:20200719020403p:plain

本ガイド内では『ProMicro』と呼びます。

銀色の袋に入ったマイコンボードです。

コンスルーピン
f:id:Salicylic_acid3:20200719020438p:plain

本ガイド内では『コンスルー』と呼びます。

金色の魚の骨のような部品です。

ダイオード（リードタイプ）
 



本ガイド内では『ダイオード』と呼びます。

両端が紙テープで止められた状態で入っています。

ネジ
f:id:Salicylic_acid3:20210117005141p:plain

※同梱のネジは銀色のものです。

スペーサーとともにプレート各種をネジ止めするのに必要です。

3mmのネジが24個以上入っていますので確認してください。

スペーサー
f:id:Salicylic_acid3:20210117005053p:plain

本ガイド内では『スペーサー』と呼びます。

プレート各種をネジ止めするのに必要です。

スペーサーは7mmが8個、4mmが4個、ネジが飛び出た4mm（オスメス）が4個入っていますので確認してください。

TRRSジャック
f:id:Salicylic_acid3:20200410225430p:plain

本ガイド内では『TRRSジャック』と呼びます。

ErgoArrowsの左右を接続するケーブルのために必要です。

2個入っていますので確認してください。

タクトスイッチ
f:id:Salicylic_acid3:20200410225608p:plain

本ガイド内では『タクトスイッチ』と呼びます。

ErgoArrowsの頭脳部分、ProMicroのファームウェアを書き込む際に必要です。

2個入っていますので確認してください。

ゴム足
f:id:Salicylic_acid3:20210117005212p:plain

シートについたゴム足が8個入っていますので確認してください。 -->

# キット以外で必要なもの

|    |    |
| ---- | ---- |
|  キースイッチ（Kailh Choc v1 or v2）  |  54個  |
|  キーキャップ（Choc v1 or v2用キーキャップ）  |  54個  |
|  USBケーブル（Pro microとPCを接続するもの）  |  1本  |

## キースイッチ
ErgoGridGoはロープロファイル（背の低い）スイッチであるKailh Choc v1スイッチまたはKailh Choc v2スイッチに対応しています。54個必要です。
v1とv2でキーキャップの軸の形状が異なるので、よくご確認の上でご購入ください。

https://shop.yushakobo.jp/products/pg1350
https://shop.yushakobo.jp/products/kailh-choc-v2

## キーキャップ
#### 再三記載しますが、Choc v1とChoc v2ではキーキャップの軸の形状が異なります。調達前によくご確認してください。
ErgoGridGoはすべてのキーが一番小さい単位の1uというサイズのキーで構成されるため、一般的なキーキャップセットでは印字を一致させることは出来ません。キーキャップセットで足りないところを無刻印のキーキャップで補うと良いかもしれません。
※Choc v2スイッチはMXキーキャップを取付できますが、一部のキーキャップと干渉し上手くはまらない可能性があります。

<!-- BLE Micro Pro or LPME-IO
本ガイド内では『BMP』または『LPME』と呼びます。

キーボードの頭脳となるマイコンです。

BMPとLPMEは無線接続を行う場合に必要です。

また、BMPとLPMEを使用する場合、キットに同梱されているコンスルーが使用できます。

LPMEはBMPとTRRSケーブルで接続し、部分無線を実現する場合に使用します。

また、本キットには電池基板用の部品が同梱されていません。

BMPを2つ使用した完全無線化には電池部品セットを2つ、BMPとLPMEを使用した部分無線には電池部品セットを1つ購入してください。


yushakobo.jp

LPME-IO2a
shop.yushakobo.jp


booth.pm


nogikes.booth.pm

付属のコンスルーを使ってしまっていた場合、別途用意する必要があります。

※12ピンのピンヘッダで代用することもできますが、ハンダ付けが必要です。

コンスルー
shop.yushakobo.jp

ピンヘッダー・ピンソケット
shop.yushakobo.jp

背の低いコンスルー 12ピン
www.switch-science.com

Micro USBケーブル
本ガイド内では『USBケーブル』と呼びます。

ErgoArrowsとPCとをつなぐために必要です。

マグネット 充電ケーブル SUNTAIHO 3in1 Mini-USBケーブル【1.2Mx1本セット】QC3.0急速充電とデータ伝送 磁石 磁気 防塵 着脱式 OS用ライト マイクロUSB Type-C コネクタ タイプ-c Micro USB Cable LEDインジケーター付き - SYCX001 (1.2mケーブル&3個マグネット)

マグネット 充電ケーブル SUNTAIHO 3in1 Mini-USBケーブル【1.2Mx1本セット】QC3.0急速充電とデータ伝送 磁石 磁気 防塵 着脱式 OS用ライト マイクロUSB Type-C コネクタ タイプ-c Micro USB Cable LEDインジケーター付き - SYCX001 (1.2mケーブル&3個マグネット)

3.5mmステレオミニケーブル
本ガイド内では『ステレオミニケーブル』と呼びます。

3.5mmステレオミニケーブルのオス⇔オスを用意してください。

エレコム ステレオミニプラグ オーディオケーブル 極細スリムコネクタ 金メッキ ホワイト 0.5m DH-MMIP05WH

エレコム ステレオミニプラグ オーディオケーブル 極細スリムコネクタ 金メッキ ホワイト 0.5m DH-MMIP05WH

LED（YS-SK6812MINI-E）（オプション）
別途用意することで全てのキーを裏からフルカラーで光らせることが出来ます。

76個付けることが出来ます。

ハンダ付けする箇所が増えてしまいますが派手なキーボードが好きな方は是非チャレンジして輝かせてください。


yushakobo.jp

LEDテープ（WS2812B）（オプション）
本ガイド内では『LEDテープ』と呼びます。

基板の裏からより光らせるために使用します。

※LEDテープを利用してもあまり光りません。。そのうちアクリルボトムプレートを用意するので、その時に実装してもいいと思います。


yushakobo.jp -->

<!-- 電池部品セット一覧（オプション）
BMPを2つ使用した完全無線化には電池部品セットを2つ、BMPとLPMEを使用した部分無線には電池部品セットを1つ購入してください。

品目	数量
ショットキーダイオード	2
コンデンサ	1
スライドスイッチ	1
コイン電池ケース	2
2mm高2pinコンスルー	1
電池部品セットは遊舎工房様での取扱はございません。

以下のBoothショップからご購入ください。


salicylic-acid3.booth.pm -->

<!-- スライドスイッチ
f:id:Salicylic_acid3:20191127225718p:plain
本ガイド内では『スライドスイッチ』と呼びます。

電池のオンオフを行うスイッチです。

コイン電池（CR1632）ケース
f:id:Salicylic_acid3:20191127225431p:plain

本ガイド内では『電池ケース』と呼びます。

コイン電池（CR1632）を収めるケースです。

2mm高2pinコンスルー
f:id:Salicylic_acid3:20191127225635p:plain

電池基板が実装されているボトムプレートと基板を接続するコンスルーです。

曲がりやすいので、気をつけてお取り扱いください。

※2mmのコンスルーなので、遊舎工房様で販売する通常のコンスルー（2.5mm）を切っても適合しません。 -->

# 必要な工具一覧

## 必須

- はんだごて
- 精密ドライバー
- やすり
- ピンセット

## あると便利

- ダイオードベンダー
- マスキングテープ
- 輪ゴム

# 組み立て

本キットには部品の取り付け順序があります。十分注意してください。

## Pro Microの書き込み

以下のRemapのページをクリックして、ファームウェア書き込みページを開きます。
https://remap-keys.app/catalog/hUqBCgGUT5qS4GSuLbLD/firmware

「ergogridgo_promicro_v1」の「FLASH」をクリックします。

通常のProMicroは「caterina」を選択してから「FLASH」をクリックします。

Pro microのリセット用の端子とGNDピンをピンセットなどで繋ぎショートさせます。

右上に表示されたポップアップから、Pro microを選択してください。

ファームウェアの書き込みが完了したらメッセージの最後に「successfully」が表示されます。

Pro Microに書き込んだらRemapからキーマップが書き換え可能になります。


## PCB、トッププレートのバリを削り落とす

PCBやトッププレートには、製造の都合上バリ（太さ2mm程度の突起）が残っている場合があります。
やすり等で削り落としてください。その際、PCB表面の配線を傷つけないよう気をつけてください。

## 基板にコンスルーを差し込む
Pro microを使用する場合は、「Bat+」と「Bat-」を避けるように差し込みます。

ただし、コンスルーには向きがあります。

金色の部分が片方の面から両方見える様に、また金色の部分がPro Micro側に寄っている様に取り付けます。

誤った向きに取り付けると、修正するのは極めて難しいです。不安な場合は、必ず有識者に問い合わせください。

## Pro microにコンスルーをはんだ付けする

#### はんだ付けするのはコンスルーとPro microだけです。コンスルーとPCBは着脱できるように、はんだ付けしないでください。

はんだ付けのコツは、接着する箇所を適正温度まで温めることです。まずこての先端を2秒程度あててピンとスルーホールを加熱し、それからはんだを付け、溶けたはんだが適度に流れ込むまで1秒程度、こてを当ててから離します。2秒温め、2回はんだを差し、1秒待ってこてを離す。これが目安です。

## Pro Microを一旦抜く

この後の工程の邪魔になるので、一度Pro microを取り外します。コンスルーピンを曲げないようにご注意ください。


## ダイオードをはんだ付けする（リードタイプの場合）

### ダイオードの足を曲げる

ダイオードを差し込む間隔に合わせてまず足を曲げます。ダイオードベンダーがあると便利です。

### ダイオードの向きを揃えて挿入する

足を曲げたら台紙から切り離し、穴に差し込んでいきます。

#### ダイオードには向きがあります。逆向きに取り付けるとそのキーは反応しません。

基板に書かれている向き（ダイオードのラインと基板上の記号「▷|」の縦のラインを合わせる）に合わせて差し込んでいきます。
白基盤の場合は、ダイオードの黒い塗装がダイオードのアイコンの黒塗りの部分と重なるような向きです。
黒基盤の場合は、白塗りの部分と重ねましょう。

基板をひっくり返しても落ちない用にマスキングテープで止めるか足を広げておきます。

### はんだ付け

ダイオード全てのはんだ付けが終わっているかよくご確認ください。
確認後、ダイオードの足をギリギリで切ってください。


## タクトスイッチをはんだ付けする

PCBの裏側、「RESET」と書かれた位置に差し込み表面からはんだ付けします。


## キースイッチをはんだ付けする
いよいよキースイッチを付けます。PCBの表面から、キースイッチ（Choc v1 or v2）を差し込みはんだ付けします。

<!-- （オプション）電池部品セット組み立て
ボトムプレートに電池ケースとスライドスイッチをはんだ付けする
※LPME-IOを使用する場合は電池部品は左側にのみ実装します。

ボトムプレートの底面側（使用するとき机の側、ゴム足を取り付ける側）に電池ケースとスライドスイッチを裏からはんだ付けします。

f:id:Salicylic_acid3:20210220015419p:plain

この写真は右手側の取り付けです。また、電池ケースの上下の向きに注意します。
裏返す時に部品が浮いてしまわないようにマスキングテープで押さえておきます。

また、スライドスイッチは足をニッパーで切ってからはんだ付けします。

SBダイオードとコンデンサをはんだ付けする
基板側（使用するとき上側、スイッチ側）にSBダイオードとコンデンサをはんだ付けします。

f:id:Salicylic_acid3:20210220015905p:plain

C1と書かれた部分にコンデンサをはんだ付けします。
SBダイオードとコンデンサは通常のダイオードと同じ要領ではんだ付けします。

※コンデンサには向きは有りません。

2Pinコンスルーを基板に取り付ける
ピンを曲げないようにゆっくり差し込んでください。

上下左右はありません。

ボトムプレートに対応する穴にあわせ、ピンをゆっくり確実に差し込んでください。

f:id:Salicylic_acid3:20210220020449p:plain

赤丸の部分に2pinコンスルーを取り付けます。 -->

## スペーサーをネジ止めする

### トッププレート固定用のスペーサー

PCB上部、Pro micro取付位置周囲の穴3つに長いスペーサー（7mm）を取り付けます。スペーサーを表面に置き、裏からネジ止めしてください。

### ミドルプレートがある場合

ミドルプレートの六角形の穴に短いスペーサー（4mm）をはめてください。

### ボトムプレートに4mmのスペーサーを取り付ける

まずボトムプレートの表裏をご確認ください。製造番号が書いてある方が表です。
表面にスペーサーまたはスペーサーをはめたミドルプレートを置き、裏からネジ止めしてください。

## PCBとボトムプレートの接合

スペーサーを取り付けたボトムプレートの上にPCBを配置し、PCBの表側からネジ止めしてください。


## Pro microを取り付ける

外すときと同様に、コンスルーピンを曲げないようご注意ください。


## トッププレートの取り付け

PCB上部に取り付けた7mmスペーサーに、トッププレートをネジ止めしてください。


## テストする
PCに繋ぎキーの反応をテストします。

## キーマップをカスタマイズする

###  jsonファイルのダウンロード

下記リンクより、jsonファイルをダウンロードしてください。
https://github.com/JetJaguar-PSX/ErgoGridGo/blob/main/json/ergogridgo.json

### REMAPによるキーマップのカスタマイズ

PCとPro microを接続し、下記リンクよりキーマップをカスタマイズしてください。あなただけのオリジナルのキーマップを探求してください。
https://remap-keys.app/configure

## キーキャップを取り付ける
キーマップに応じた配列で、キーキャップを取り付けます。軸を折らないようにお気を付けください。


# 完成
お疲れ様でした！
なるべく組み立てやすい様に設計したつもりですが、なにかわからないことがあればご連絡ください。

# 動かない時に
以下のサイトがトラブルシューティングについて網羅していますので参考にしてください。

https://scrapbox.io/self-made-kbds-ja/%E5%8B%95%E3%81%8B%E3%81%AA%E3%81%8F%E3%81%A6%E7%9B%B8%E8%AB%87%E3%81%97%E3%81%9F%E3%81%84%E3%81%A8%E3%81%8D%E3%81%AB%E4%BA%8B%E5%89%8D%E3%81%AB%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B%E9%A0%85%E7%9B%AE(%E3%81%AF%E3%82%93%E3%81%A0%E3%81%A5%E3%81%91%E7%B7%A8)
